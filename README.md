% 6.830 Project Proposal
% Outlier Detection in Real Time
% Clément Pit--Claudel, Zelda Mariet, Rachael Harding

## Abstract

Databases are prone to input errors such as by human users or faulty 
sensors. Automatic detection of outliers in the input data would allow
these errors to be detected and database administrators to be notified
when input data does not fit the typical data set. During our class
project, we will build a tool to facilitate the automatic detection of
outliers.

## Introduction

Detecting outliers is an important problem in detecting inconsistencies
within a data set. Applications include detecting measurement errors
from sensors, abnormal fluctuations in the stock market, credit card
fraud, and incorrect human input such as typos or misreadings. Formally,
an outlier is defined by Hawkins as "an observation which deviates so
much from the other observations as to arouse suspicions that it was
generated by a different mechanism."[^1]. There has been substantial
research in how to build models to detect outliers[^2], including how to
detect outliers in high-dimensional data by searching the subspaces of
the data[^3][^4]. However many of these algorithms are complex and can
require substantial computation to determine whether a new data point
lies outside the data.

Statistical methods have been used to detect functional dependencies
between columns of relational databases for the purpose of informing the
query optimizer of potential data dependencies[^5]. These methods
require only a small sample of the data to detect functional
dependencies with high probability of correctness. The relatively low
computation required by these algorithms makes them more amenable to
detecting data anomalies in real time.

During our class project, we will draw on some of the ideas from the
existing outlier detection literature and statistical methods to detect
data inconsistencies on databases that are updated in real time. We will
build and evaluate a tool that automatically detects outliers based on
dependencies between the data.

## Goals

Our goals in this project are the following:

1.  Design and implement a tool that explores likely functional
    dependencies between columns in a relational database.
2.  Use rules derived from the functional dependencies to detect
    outliers in new data added to the database.
3.  Evaluate our tool on a real database with real time database
    updates.

## Methodology

Our abnormal data detection method proceeds in three steps:

1.  **Tuple expansion** − Given a database row, our software expands each
    field using default or user-specified rules. For example, we expand
    the UNIX-style timestamp `1412605800` into
        `(1412605800, 2014, 10, 06, 14, 30, 00, Monday)`
    similarly, we expand the string `"MIT 6.830 Database Class"` into
        `("MIT 6.830 Database Class", "MIT", "Title case", 24)`
    Finally, the integer `25` (`0b11001`) is expanded into
        `(25, 1, 0, 0, 1, 1)`.
    
2.  **Correlation investigation** − Our software uses inference and
    regression techniques to find correlations between parameters of
    each expanded tuple, ignoring correlations between expanded fields
    deriving from the same original field. Candidate techniques here
    include clustering, principal component analysis, or binary
    classification strategies. At the same time, our software builds a
    statistical model of the existing data.
3.  **Outlier detection** − When run in offline mode, our software report
    existing database rows that seem to break the inferred functional
    dependencies, or seem to differ widely from the existing model. When
    run in online mode, our software uses its model to flag suspicious
    new data.

## Architecture

Our software has three core components: an analyzer, a training
module, and a classification module. These are relatively independent,
as long as they obey clearly defined interfaces. We can thus divide the
bulk of the work between the three members of the team in a relatively
easy way.

## Extensions

Our software can be extended in many ways, dependent on available time;
below are a few interesting possibilities:

-   Our project recognizes the need for additional insight about the
    data beyond simple data types. In the integer example, the sequence

        [7, 14, 14, 15, 18, 21, 22, 22]

    doesn’t show any clear outlier; seeing each integer as a set of binary
    flags, however, makes the discrepancy obvious:

        [00111, 01110, 01110, 01111, 10010, 10101, 10110, 10110]

    without knowledge of the intrinsic type of the data being
    represented, such a problem is hard to find. We could allow users
    to input their own expansion rules, and possibly imagine a
    mechanism powerful enough to entirely replace constraints (instead
    of "this field should be uppercase", DBAs could say "extract the
    case of this field")
    
-   Correlation investigation mechanisms can be expanded by adding new
    statistical approaches.

-   Outlier detection strategies can be enriched; for example, we could
    compute statistics on rows comprised in a certain window, and update
    these statistics as we slide the window down a table. This would
    permit detecting off-by-one errors in data input.

## Schedule

| When           | What?                                                     |
| -------------- | --------------------------------------------------------- |
| By October 13  | Split work between team members                           |
| By October 27  | Gather data                                               |
| By November 10 | Implement a rough prototype of each part of the framework |
| By November 24 | Refine the prototype and connect each component           |
| By December 1  | Write report                                              |
| By December 10 | Finalize report and prepare presentation                  |

[^1]: D. M. Hawkins. Identification of Outliers. Chapman and Hall.

[^2]: Charu C. Aggarwal. Outlier Analysis. Kluwer Academic Publishers.

[^3]: Ji Zhang et. al. HOS-Miner: A System for Detecting Outlying
      Subspaces of High-dimensional Data. VLDB 2004.

[^4]: Hans-Peter Kriegel et. al. LoOP: Local Outlier
      Probabilities. VLDB 2004.
      
[^5]: Ihab F. Ilyas et. al. CORDS: Automatic Discovery of Correlations
      and Soft Functional Dependencies. SIGMOD 2004.
